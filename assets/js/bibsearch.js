function initBibsearch(){const e=document.getElementById("bibsearch");if(!e)return;const t=e=>{if(document.querySelectorAll(".bibliography, .unloaded").forEach(e=>e.classList.remove("unloaded")),CSS.highlights){const t=highlightSearchTerm({search:e,selector:".bibliography > li"});if(null==t)return;t.forEach(e=>{e.classList.add("unloaded")})}else document.querySelectorAll(".bibliography > li").forEach(t=>{-1==t.innerText.toLowerCase().indexOf(e)&&t.classList.add("unloaded")});document.querySelectorAll("h2.bibliography").forEach(function(e){let t=e.nextElementSibling,n=!0;for(;t&&"H2"!==t.tagName;){if("OL"===t.tagName){const e=t,i=e.querySelectorAll(":scope > li.unloaded"),o=e.querySelectorAll(":scope > li");i.length===o.length?(e.previousElementSibling.classList.add("unloaded"),e.classList.add("unloaded")):n=!1}t=t.nextElementSibling}n&&e.classList.add("unloaded")})},n=()=>{const n=decodeURIComponent(window.location.hash.substring(1));e.value=n,t(n)};let i;const o=e.cloneNode(!0);e.parentNode.replaceChild(o,e),o.addEventListener("input",function(){clearTimeout(i);const e=this.value.toLowerCase();i=setTimeout(t(e),300)}),window.removeEventListener("hashchange",n),window.addEventListener("hashchange",n),n()}import{highlightSearchTerm}from"./highlight-search-term.js";document.addEventListener("DOMContentLoaded",initBibsearch),document.addEventListener("turbo:load",initBibsearch);